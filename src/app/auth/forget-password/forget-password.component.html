<ion-header>
    <ion-toolbar  class="grey-toolbar">
      <ion-buttons slot="start"><ion-back-button class="ion-text-capitalize back-button-text" text=""></ion-back-button></ion-buttons>
    </ion-toolbar>
</ion-header>
<ion-content class="loginpage forgotpwd">
  <div *ngIf="!VerifyType && resetPwd">
  <div class="loginlogo"><img  src="assets/img/icons/forget-password.svg"></div>
  <div class="logintitle" >
    <h4>Forgot password?</h4>
    <p>Don't worry! It happens. Please enter the address associated with you account.</p>
  </div>
</div>
  <div class="logintitle" *ngIf="!resetPwd && !VerifyType">
    <h4>OTP verification</h4>
    <p>Enter your OTP send to your mail, Check your mail</p>
  </div>
  <!-- <div class="loginlogo"> <img src="../../../assets/medicea_img/signinlogo.jpeg"></div> -->
  <div class="login forgotpwd">
      <form *ngIf="resetPwd" [formGroup]="fForm">
        <div class="formgroup" *ngIf="!VerifyType">
          <ion-item>
              <ion-label position="floating">E-Mail/Mobile Number</ion-label>
              <ion-input type="email" formControlName="userId" placeholder="Email Id"></ion-input>
              <ion-icon  class="showicon" src="assets/img/icons/Icon-check-circle.svg"></ion-icon>
          </ion-item>
          <div *ngIf="f.userId.invalid && (f.userId.dirty || f.userId.touched)" class="alert">
              <div *ngIf="f.userId.errors.required" class="warning">Email Id is required.</div>
              <div *ngIf="f.userId.errors?.email" class="warning">Enter Valid Email Id.</div>
          </div>
        </div>
        <div class="formgroup" *ngIf="VerifyType">
            <ion-item>
                <ion-label position="floating">Mobile Number</ion-label>
                <ion-input type="number" placeholder="Enter Registered Mobile no." formControlName="userId"></ion-input>
            </ion-item>
            <div *ngIf="f.userId.invalid && (f.userId.dirty || f.userId.touched)" class="alert">
              <div *ngIf="f.userId.errors.required" class="warning">Mobile Number is required.</div>
              <div *ngIf="f.userId.errors.pattern" class="warning">Enter Valid Mobile Number.</div>
              <div *ngIf="f.userId.errors.maxLength" class="warning">Mobile Number not more than 10 digit.</div>
              <div *ngIf="f.userId.errors.minLength" class="warning">Enter 10 digit Mobile Number.</div>
          </div>
        </div>
        <div class="formgroup">
          <ion-button type="submit" [disabled]="!fForm.valid" (click)="onResetPwd()" expand="full">Reset Password</ion-button>
        </div>
      </form>
      <form *ngIf="!resetPwd" class="registration-form" [formGroup]="vForm">
          <div class="formgroup">
            <ion-item>
                <ion-label position="floating">VERIFICATION CODE</ion-label>
                <ion-input type="number"  placeholder=""  formControlName="verifyCode"></ion-input>
            </ion-item>
            <div *ngIf="r.verifyCode.invalid && (r.verifyCode.dirty || r.verifyCode.touched)" class="alert">
                <div *ngIf="r.verifyCode.errors.required" class="warning">OTP is required.</div>
            </div>
            <p position="floating" (click)="resendCode()" style="margin-top: 12px;">Resend Verification Code?</p>
          </div>
          <div class="formgroup">
              <ion-item>
                  <ion-label position="floating">NEW PASSWORD</ion-label>
                  <ion-input [type]="newpassword ? 'text': 'password'"  placeholder="" formControlName="password"></ion-input>
                  <ion-icon [name]="newpassword ? 'eye' : 'eye-off' " class="showpassword" (click)="shownewpass()"></ion-icon>
              </ion-item>
              <div *ngIf="r.password.invalid && (r.password.dirty || r.password.touched)" class="alert">
                   <div *ngIf="r.password.errors.required" class="warning">Password is required.</div>
              </div>
          </div>
          <div class="formgroup">
            <ion-item>
                <ion-label position="floating">CONFIRM PASSWORD</ion-label>
                <ion-input [type]="confirmpassword ? 'text': 'password'" formControlName="confpwd" placeholder="" (ionChange)="passwordmismatch()"></ion-input>
                <ion-icon [name]="confirmpassword ? 'eye' : 'eye-off' " class="showpassword" (click)="showconfirmpass()"></ion-icon>
            </ion-item>
            <div *ngIf="r.confpwd.invalid && (r.confpwd.dirty || r.confpwd.touched)" class="alert">
                <div *ngIf="r.confpwd.errors.required" class="warning">Confirm Password is required.</div>
            </div>
            <div *ngIf="r.confpwd != r.password && (r.confpwd.dirty || r.confpwd.touched)" class="alert">
                <div *ngIf="passwordNotMatch"  class="warning">Confirm password do not match</div>
            </div>
          </div>
          <div class="formgroup">
                <ion-button type="submit" [disabled]="!vForm.valid" (click)="onVerifyPwd()" expand="full">Save New Password</ion-button>
          </div>
        </form>
      <div class="row mt-2 text-muted">
        <div class="col-lg-12">
          <ion-text class="signup ion-text-center" [routerLink]="['/auth/signine']">Already have account? <a><b> Log In</b></a></ion-text>
        </div>
      </div>
  </div>
</ion-content>