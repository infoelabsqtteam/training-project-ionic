<ion-header class="ion-no-border header-bg">
    <ion-toolbar class="Rectangle-98 ion-no-margin">
        <ion-buttons slot="start">
            <!-- <ion-button (click)="addAddress()"> -->
            <ion-icon slot="icon-only" size="large" class="header-icon" (click)="goToHome()" name="chevron-back-sharp"></ion-icon>
            <!-- </ion-button> -->
        </ion-buttons>
        <ion-buttons slot="end" (click)="openSearch()">
            <ion-icon name="search-outline" slot="end"></ion-icon>
        </ion-buttons>
        <!-- <div><img class="discount" src="assets/newdesign/discount.svg"></div>
            <div><img class="Group-45" src="assets/newdesign/Group 45.svg"></div> -->

        <!-- <ion-title (click)="addAddress()" size="small" class="Gurgaon"> -->
        <div class="ion-text-wrap header-title">
            Cart
        </div>

        <!-- </ion-title> -->

        <!-- <img src="assets/newdesign/Path 229.svg" />
      <img src="assets/newdesign/discount.svg" class="discount" />
      <img src="assets/newdesign/Group 45.svg" class="Group-45" /> -->
    </ion-toolbar>
</ion-header>
<ion-content>
    <ion-row class="top-row-bg" *ngIf="currentLocation">
        <ion-col size="1" class="ion-text-end">
            <ion-icon name="location-outline"></ion-icon>
        </ion-col>
        <ion-col size="11">
            <ion-text>{{currentLocation?.locality}}</ion-text>
            <ion-icon name="chevron-down-outline" class="down-icon"></ion-icon>
        </ion-col>
    </ion-row>


    <!-- <ion-card class="suceess-card ion-padding-horizontal">
        <ion-item class="suceess-card">
            <ion-label>Product added successfully</ion-label>
            <ion-icon name="close-outline" slot="end"></ion-icon>
        </ion-item>
    </ion-card> -->
    <ion-row class="ion-margin-vertical ion-padding-horizontal">
        <ion-col size="12">
            <ion-button expand="block" color="medium" shape="round" (click)="openPresModal()">Upload Prescription</ion-button>
        </ion-col>
    </ion-row>
    <ion-row class="ion-margin-vertical ion-padding-horizontal">
        <ion-col size="12" class="ion-no-border">
            <ion-text><strong>Shopping Cart</strong></ion-text>
        </ion-col>
        <ion-col size="12" class="ion-no-border">
            <h5>Subtotal : <b>Rs {{order?.total}}</b> </h5>
        </ion-col>
        <ion-col size="1" class="ion-text-end">
            <ion-icon name="checkmark-circle" color="medium"></ion-icon>
        </ion-col>
        <ion-col size="11" class="ion-no-border">
            <ion-note>Your order is eligible for FREE Delivery.</ion-note>
        </ion-col>
    </ion-row>
    <div class="main_content_div">
        <ion-grid fixed>
            <ion-row>
                <ion-col size="6" *ngFor="let item of presList; let i = index">
                    <div class="back_image" [style.backgroundImage]="'url( data:image/jpeg;base64,' +  item.base64Image + ')'">
                        <ion-icon size="large" name="close-outline" (click)="removePres(i)" color="danger"></ion-icon>
                    </div>

                </ion-col>
            </ion-row>
        </ion-grid>
    </div>
    <ion-row class="ion-margin-vertical ion-padding-horizontal">
        <ion-col size="12" *ngIf="(cartItems && cartItems.length>0) || (presList && presList.length>0)">
            <ion-button expand="block" color="medium" shape="round" (click)="goToCheckout()">Proceed to Buy ({{cartItems.length}} Item)</ion-button>
        </ion-col>
    </ion-row>
    <ion-row class="ion-margin-vertical ion-padding-horizontal">
        <ion-col class="line">

        </ion-col>
    </ion-row>
    <div *ngFor="let item of cartItems; let i =index">
        <ion-row class="ion-margin-vertical ion-padding-horizontal">
            <ion-col size="5">
                <ion-img src="assets/newdesign/Image 16.png" class="card-img"></ion-img>
            </ion-col>
            <ion-col size="7">
                <ion-row>
                    <ion-col size="12">
                        <ion-text>
                            {{item?.name?.name}}
                        </ion-text>
                    </ion-col>
                    <ion-col size="12">
                        <b><span>Rs </span>
                    <ion-label> {{item?.mrp}}</ion-label></b>
                    </ion-col>
                    <ion-col size="12">
                        <ion-label>Eligible for free shipping</ion-label>
                    </ion-col>
                    <ion-col size="12">
                        <ion-note color="success">In Stock</ion-note>
                    </ion-col>
                </ion-row>

            </ion-col>

        </ion-row>
        <ion-row class="ion-margin-vertical ion-padding-horizontal">
            <ion-col size="5">
                <div class="add-qty">
                    <div class="ion-no-border" style="width: 30%;">
                        <ion-icon size="large" name="remove-circle-outline" (click)="minus(item, i)"></ion-icon>
                    </div>
                    <div size="6" class="ion-no-border ion-text-center qty" style="width: 40%;">
                        <ion-label class="ion-align-self-center ">{{item.quantity}}</ion-label>
                    </div>
                    <div class="ion-no-border" style="width: 30%;">
                        <ion-icon size="large" name="add-circle-outline" (click)="plus(item, i)"></ion-icon>
                    </div>

                </div>
            </ion-col>
            <ion-col size="7" class="ion-no-border">
                <ion-row>
                    <ion-col size="5" class="ion-no-border">
                        <ion-button size="small" class="ion-text-capitalize btn-font" (click)="removeCartItem(i)" color="medium" shape="round">Delete</ion-button>
                    </ion-col>
                    <ion-col size="7" class="ion-no-border">
                        <!-- <ion-button size="small" class="ion-text-capitalize btn-font" color="medium" shape="round">Save for later</ion-button> -->
                    </ion-col>
                </ion-row>

            </ion-col>

        </ion-row>
    </div>
    <ion-row class="ion-margin-vertical ion-padding-horizontal">
        <ion-col>
            <ion-note color="medium">See more like this</ion-note>
        </ion-col>
    </ion-row>
    <ion-row class="ion-margin-vertical ion-padding-horizontal">
        <ion-col class="line">

        </ion-col>
    </ion-row>
</ion-content>


<!-- <ion-header>
    <ion-toolbar color="medium">
        <ion-buttons slot="start">
            <ion-back-button mode="md"></ion-back-button>
        </ion-buttons>
        <ion-title class="ion-text-center">Cart Items</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-card>
        <ion-item *ngIf="presList && presList.length>0">
            <ion-text color="medium">
                You have {{presList.length}} prescription in cart.
            </ion-text>
            <ion-button fill="clear" color="medium" (click)="openPresModal()" class="ion-margin-start"> View </ion-button>
        </ion-item>
    </ion-card>
    <ion-card>
        <ion-item lines="none">
            <ion-label>Payment Summary</ion-label>
        </ion-item>
        <ion-row>
            <ion-col size="4">
                <ion-label>Order Total</ion-label>
            </ion-col>
            <ion-col size="4" offset="4">
                <ion-label class="ion-float-right">{{order?.total | currency:'INR' :'symbol':'.2-2'}}</ion-label>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col size="4">
                <ion-label>Discount</ion-label>
            </ion-col>
            <ion-col size="4" offset="4">
                <ion-label class="ion-float-right">{{order?.discountAmount | currency:'INR' :'symbol':'.2-2'}}</ion-label>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col size="4">
                <ion-label>Bag Total</ion-label>
            </ion-col>
            <ion-col size="4" offset="4">
                <ion-label class="ion-float-right">{{order?.netAmount | currency:'INR' :'symbol':'.2-2'}}</ion-label>
            </ion-col>
        </ion-row>

    </ion-card>
    <div class="main_content_div">

        <div class="left_div" *ngFor="let item of cartItems; let i = index">
            <div class="back_image" [style.backgroundImage]="'url(assets/med-1.jpg)'"></div>
            <div class="second_div">
                <ion-label class="name">{{item.name}}</ion-label>
                <ion-label class="prize"> {{item.mrp | currency:'INR' :'symbol':'.2-2'}}</ion-label>
                <ion-label class="prize">Price: {{item.price | currency:'INR' :'symbol':'.2-2'}}</ion-label>
                <ion-label class="prize" color="light-shade">Discount: {{item.discount}}</ion-label>
                <ion-button size="small" class="ion-margin-top" size="small" (click)="addToCart(item)" color="medium" shape="round" fill="outline">Add To Cart</ion-button>
            </div>
            <div class="last_div">
                <ion-button (click)="plus(item, i)" size="small" fill="clear">
                    <ion-icon slot="icon-only" name="add"></ion-icon>
                </ion-button>

                //<ion-label><span>{{value}}</span></ion-label> 

<div class="text_div">
    <div class="lbl_div">{{item.qty}}</div>
</div>

<ion-button (click)="minus(item, i)" size="small" fill="clear">
    <ion-icon slot="icon-only" name="remove-outline"></ion-icon>
</ion-button>
</div>
</div>
</div>


</ion-content>
<ion-footer class="ion-no-border">
    <ion-row>
        <ion-col size="12">
            <ion-button expand="full" color="medium" [routerLink]="['/checkout']">Checkout</ion-button>
        </ion-col>
    </ion-row>
</ion-footer> -->