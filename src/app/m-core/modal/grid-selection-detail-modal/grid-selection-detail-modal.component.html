<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start" (click)="dismissModal({})"><ion-icon name="arrow-back-outline"></ion-icon></ion-buttons>
    <ion-title class="ion-no-padding ion-text-capitalize">{{gridSelctionTitle}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="pages ion-padding-horizontal">
  
  <ion-card class="contactdetails app-grid_selection fixed_button detail_grid" *ngIf="cardType == 'demo1'">
    <div class="" *ngFor="let column of columnList; let i = index">
      <div *ngIf="!column.editable" class="enquerylist ">
        <span [title]="column.label" class="detail-grid">{{column.label}}<ion-text>&nbsp;:&nbsp;</ion-text></span>
        <strong [innerHtml]="getValueForGrid(column,data)"></strong>
      </div>
      <div *ngIf="column.editable" class="enquerylist">
        <span [title]="column.label" class="detail-grid">{{column.label}}<ion-text>&nbsp;:&nbsp;</ion-text></span>        
        <span *ngIf="column.type.toLowerCase() == 'text'" class="editable-input-wrapper">
            <input  type="text" class="form-control form-control-sm d-inline mr-2" (keyup)="calculateNetAmount(data,column, i)" [(ngModel)]="data[column.field_name]" [disabled]="isDisable(column,data)">
        </span>
        <span *ngIf="column.type.toLowerCase() == 'textarea'" class="editable-input-wrapper">
          <input type="text" class="form-control form-control-sm d-inline mr-2" [(ngModel)]="data[column.field_name]" [disabled]="isDisable(column,data)">
        </span>
        <span *ngIf="column.type.toLowerCase() == 'number'" class="editable-input-wrapper">
          <input  type="number" class="form-control form-control-sm d-inline mr-2" (keyup)="calculateNetAmount(data,column, i)"  [(ngModel)]="data[column.field_name]" [disabled]="isDisable(column,data)">
        </span>
        <span *ngIf="column.type.toLowerCase() == 'dropdown'" class="editable-input-wrapper">
          <ion-item >
            <ion-select [selectedText]="data[column.field_name]" [(ngModel)]="data[column.field_name]" [disabled]="isDisable(column,data)">
              <ion-select-option *ngFor="let staticValue of staticData[column.ddn_field]" [value]="staticValue" [innerHtml]="getddnDisplayVal(staticValue)"></ion-select-option>
            </ion-select>
          </ion-item>
        </span>
        <span *ngIf="column.type.toLowerCase() == 'userinput_chips'" class="editable-input-wrapper">         
          <ion-chip  *ngFor="let item of custmizedFormValueData(data,column); let i = index" [disabled]="isDisable(column,data)">
            <ion-label>{{getddnDisplayVal(item)}}</ion-label>
            <ion-icon name="close-outline" (click)="removeItem(data,column,i)"></ion-icon>
          </ion-chip>
        <ng-select [bindLabel]="'name'" [(ngModel)]="chipsData" notFoundText="No records found" (keyup)="searchTypeaheadData(column,data,$event)"  (change)="setValue($event,column,data)" [disabled]="isDisable(column,data)" (focus)="resetVariables()">
          <ng-option *ngFor="let option of typeAheadData" [value]="option" [innerHtml]="getddnDisplayVal(option)"></ng-option>
        </ng-select>          
      </span>
        <span *ngIf="column.type.toLowerCase() == 'chips'" class="editable-input-wrapper">         
            <ion-chip  *ngFor="let item of custmizedFormValueData(data,column); let i = index" [disabled]="isDisable(column,data)">
              <ion-label>{{getddnDisplayVal(item)}}</ion-label>
              <ion-icon name="close-outline" (click)="removeItem(data,column,i)"></ion-icon>
            </ion-chip>
          <ng-select [bindLabel]="'name'" [(ngModel)]="chipsData" notFoundText="No records found" (keyup)="searchTypeaheadData(column,data,$event)"  (change)="setValue($event,column,data)" [disabled]="isDisable(column,data)" (focus)="resetVariables()">
            <ng-option *ngFor="let option of typeAheadData" [value]="option" [innerHtml]="getddnDisplayVal(option)"></ng-option>
          </ng-select>          
        </span>
      </div>
    </div>
  </ion-card>
  <div class="button_position" *ngIf="!gridselectionverticalbutton">
      <div class="flex_grid">
      <ion-button type="button" color="appcolor" [disabled]="checkValidator()" (click)="select()" expand="full" >Add</ion-button>
      <ion-button type="button" color="appcolor" [disabled]="checkValidator()" (click)="dismissModal()" expand="full" >Cancel</ion-button>
      </div>
  </div>
  <div *ngIf="gridselectionverticalbutton" class="inlineFormGridSelectionButton">
      <div class="">
          <ion-button type="button" color="appcolor" [disabled]="readonly" (click)="remove()" expand="block" >Remove</ion-button>
          <ion-button type="button" color="appcolor" [disabled]="readonly"  (click)="select()" expand="block" >Add / Select</ion-button>
      </div>
  </div>
</ion-content>